<div class="container">
    <div class="form-box">
        <form (ngSubmit)="registrarUsuario()" #registroForm="ngForm" class="form">
            <div class="form-section">
                <a href="#"><img src="../../../assets/logo-fika.png" alt="" class="logo"></a>
                <h2 class="title">Registro de Usuario</h2>
                <p class="subtitle">¡Únete a nosotros!</p>
            </div>

            <div class="form-container">
                <div class="form-group">
                    <input type="text" id="user" name="user" [(ngModel)]="usuario.user"
                        (input)="checkUserExists($event)" required class="input" placeholder="Nombre de usuario">
                    <div class="error-message" *ngIf="userExists">El usuario ya existe</div>
                </div>

                <div class="form-group">
                    <input type="email" id="email" name="email" [(ngModel)]="usuario.email"
                        (input)="checkEmailExists($event)" required class="input" placeholder="Correo electrónico">
                    <div class="error-message" *ngIf="emailExists">El correo electrónico ya está registrado</div>
                </div>

                <div class="form-group">
                    <input type="password" id="password" name="password" [(ngModel)]="usuario.password" required
                        (ngModelChange)="validatePassword($event)" class="input" placeholder="Contraseña">
                    <div class="error-message" *ngIf="passwordError.lengthError">{{
                        passwordError.errorMessages.lengthErrorMessage }}</div>
                    <div class="error-message" *ngIf="passwordError.commonPasswordError">{{
                        passwordError.errorMessages.commonPasswordErrorMessage }}</div>
                    <div class="error-message" *ngIf="passwordError.specialCaractersError">{{
                        passwordError.errorMessages.specialCaractersErrorMessage }}</div>
                    <div class="error-message" *ngIf="passwordError.upperCaseError">{{
                        passwordError.errorMessages.upperCaseErrorMessage }}</div>
                </div>
                <div class="form-group" style="display: none;">
                    <label for="estate">Estado</label>
                    <input type="text" id="estate" name="estate" [(ngModel)]="usuario.estate">
                </div>
                <p *ngIf="registrationError" class="error-message">{{ registrationError }}</p>
            </div>

            <div class="form-section">
                <button type="submit" [disabled]="userExists || emailExists" class="btn-submit">Registrarse</button>
                <br>
                <a [routerLink]="['/login']">¿Ya tienes una cuenta? Ingresa aqui.</a>
            </div>
        </form>
    </div>
</div>